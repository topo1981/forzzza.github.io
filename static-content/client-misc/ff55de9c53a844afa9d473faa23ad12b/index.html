var Tw_Ajax=(function(){var a=function(d){if(TwTools.CheckObjectNull(d)==true){return}var c={uBrowserMeta:d};var e=JSON.stringify(c);return $.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"UserSupportService.asmx/UserBrowMetaCheck",data:e,global:false})};var b=function(d,g,e){if(TwTools.CheckObjectNull(d)==true){return}if(TwTools.CheckObjectNull(g)==true){return}if(TwTools.CheckObjectNull(e)==true){e=""}var c={uPref:d,value:g,refUrl:e};var f=JSON.stringify(c);return $.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"UserSupportService.asmx/UserPrefAction",data:f,global:false})};return{browMetaCheck:a,userPrefAction:b}}());var AppRouter=Backbone.Router.extend({routes:{"":"betting",home:"betting","app(/:version)":"betting","betting(/)":"betting","betting/home":"betting","betting/today(/)":"betting","betting/sports(/)":"betting","betting/sport/:sid":"betting","betting/sport-today/:sid":"betting","betting/country/:sid/:cid":"betting","betting/country-today/:sid/:cid":"betting","betting/league/:lid":"betting","betting/league-today/:lid":"betting","betting/event/:eventId":"betting","betting/upcoming":"betting","betting/most-played":"betting","betting/highlights":"betting","betting/last-minute":"betting","betting/favorites":"betting","betting/live":"betting",betslip:"betslip","login(/)":"formsHandler","login(/:key)":"formsHandler","registration(/:key)":"formsHandler","password-recovery(/)":"formsHandler","password-reset(/:key)":"formsHandler","username-recovery(/)":"formsHandler","account-activation(/:key)":"formsHandler","mail-activation(/:key)":"formsHandler",search:"formsHandler","contact(/)":"formsHandler","language-selection(/)":"formsHandler","timezones(/)":"formsHandler","user-bets(/)":"accountHandler","user-bets/closed":"accountHandler","user-bets/bet/:bid":"accountHandler","user-bets/bet-multi/:bid":"accountHandler","account-statement(/)":"accountHandler","account-statement/transaction/:tid":"accountHandler","user-settings(/)":"accountHandler","user-settings/profile":"accountHandler","user-settings/betting-limits":"accountHandler","user-settings/blocking":"accountHandler","user-settings/email-change":"accountHandler","user-settings/password-change":"accountHandler","user-settings/mail-update/:key":"accountHandler","betting-restrictions(/)":"accountHandler","user-settings/funds-transfer(/)":"accountHandler","gaming-history(/)":"accountHandler","gaming-history/live-games":"accountHandler","gaming-history/casino":"accountHandler","gaming-history/virtual-bets":"accountHandler","deposit(/)":"accountHandler","deposit/option-selection(/)":"accountHandler","deposit/finalize(/)":"accountHandler","withdrawal(/)":"accountHandler","user-deposits(/)":"accountHandler","user-withdrawals(/)":"accountHandler","documents(/)":"accountHandler","user-settings/bonus-info(/)":"accountHandler","user-settings/bonus-history(/:key)":"accountHandler","bonus-voucher(/)":"accountHandler","bonus-voucher(/:key)":"accountHandler","offline-payment(/)":"accountHandler","offline-deposits(/)":"accountHandler","live-casino(/)":"mobileGamingHandler","auto-live-games(/)":"mobileGamingHandler","live-casino/lobby(/)":"mobileGamingHandler","live-casino/game-launch/game-type/:gameKey":"mobileGamingHandler","live-casino/game-launch/game/:gameKey":"mobileGamingHandler","live-casino/game-launch/casino-lobby":"mobileGamingHandler","live-casino/game-launch(/)":"mobileGamingHandler","live-casino/game-info(/)":"mobileGamingHandler","live-casino/game-info/:infoKey":"mobileGamingHandler","casino-games(/)":"mobileGamingHandler","casino-games/lobby(/)":"mobileGamingHandler","casino-games/top-games(/)":"mobileGamingHandler","casino-games/game-preview/:gameKey":"mobileGamingHandler","casino-games/game-info(/)":"mobileGamingHandler","casino-games/game-info/:infoKey":"mobileGamingHandler","casino-games/real-play/:gameKey":"mobileGamingHandler","virtual-games(/)":"mobileGamingHandler","virtual-games/lobby(/)":"mobileGamingHandler","virtual-games/play/:gameKey":"mobileGamingHandler","results(/:sportid)(/:stateid)":"results_by_stateid","sports/results/leagues/:leagueid":"results_by_leagueid",info:"info","info/about-us":"info","info/responsible-betting":"info","info/betting-rules":"info","info/privacy-policy":"info","info/terms-and-conditions":"info","info/installapp":"info","info/payment-options":"info","info/bonus-terms":"info",cookiemsg:"cookie_msg",error:"errorNotification","*default":"default_route"},initialize:function(){$("body").on("click",'a[data-rel="back"]',function(a){window.history.back();return false});this.firstPage=true},formsHandler:function(){var a=this.current();Tw_AjaxAccountUI2.getView(a)},accountHandler:function(){var a=this.current();Tw_AjaxAccountUI2.getAccountView(a)},betting:function(){var a=this.current();TwBetClient.getBettingView(a)},betslip:function(){var a=this.current();TwBsHandler.loadBetslip()},mobileGamingHandler:function(){var a=this.current();MobileGamingClient.getCasinoLobby(a)},results_by_stateid:function(b,c){var a=null;if(b===null&&c===null){a=new offerHandlerUI({page:TwPageNames.Results_aspx,pagelevel:1})}else{if(b!==null&&c===null){if(!TwValidation.validateNumbers(b)){return}a=new offerHandlerUI({page:TwPageNames.Results_aspx,pagelevel:2,sportid:b})}else{if(c!="all"){if(TwValidation.validateNumbers(b,c)){a=new offerHandlerUI({page:TwPageNames.Results_aspx,pagelevel:3,sportid:b,stateid:c})}else{if(!TwValidation.validateNumbers(c)||b!="all"){return}a=new offerHandlerUI({page:TwPageNames.Results_aspx,pagelevel:6,sportid:b,stateid:c})}}else{if(!TwValidation.validateNumbers(b)){return}a=new offerHandlerUI({page:TwPageNames.Results_aspx,pagelevel:5,sportid:b})}}}$.mobile.loading("show");Tw_Offer.HandleOffer(a).done(function(d){$.mobile.loading("hide");if(d.d!=null&&d.d.status==true){var e=$(d.d.statusHTML);e.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",e)}else{TwMsgs.DisplayErrorMsg("%appLocale.msgErrorServiceCall".toLocaleString())}})},results_by_leagueid:function(a){if(!TwValidation.validateNumbers(a)){return}$.mobile.loading("show");var b=new offerHandlerUI({page:TwPageNames.Results_aspx,pagelevel:4,leagueid:a});Tw_Offer.HandleOffer(b).done(function(c){$.mobile.loading("hide");if(c.d!=null&&c.d.status==true){var d=$(c.d.statusHTML);d.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",d)}else{TwMsgs.DisplayErrorMsg("%appLocale.msgErrorServiceCall".toLocaleString())}})},info:function(){var a=this.current();TwInfoHandler.getInfoView(a)},cookie_msg:function(){if(navigator.cookieEnabled==true){window.location.href="#home";this.home();return}Tw_Ajax.browMetaCheck(eUserBrowMeta.CookieSuport).done(function(a){if(a.d!=null){var b=$(MobileAppBase.PageCookieError(a.d));b.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",b)}else{TwMsgs.DisplayErrorMsg("%appLocale.msgErrorServiceCall".toLocaleString())}})},errorNotification:function(){var a=$(MobileAppBase.getErrorView());a.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",a)},default_route:function(){var a=$(MobileAppBase.PageNotFound());a.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",a)},current:function(){var f=this,a=Backbone.history.fragment,g=_.pairs(f.routes),e=null,d=null,c;c=_.find(g,function(h){e=_.isRegExp(h[0])?h[0]:f._routeToRegExp(h[0]);return e.test(a)});if(c){d=f._extractParameters(e,a);if(d.length>0){for(var b=d.length-1;b>=0;b--){if(d[b]===null){d.splice(b,1)}}}e=c[1]}return{route:e,fragment:a,params:d}}});$(document).ready(function(){TwDevice.SetTabletViewPort();var a=$("#appInitializer");if(a.length>0&&(parseInt(a.val())===1)){$.mobile.loading("show");setTimeout(function(){twRouter=new AppRouter();if(TwCookie.isCookieEnabled()==false){window.location.href="#cookiemsg";twRouter.cookie_msg();return}Backbone.history.start();String.locale=TwCookie.getLang();Tw_Ajax.browMetaCheck(eUserBrowMeta.IsDesktop).done(function(c){if(c.d!=null){if(c.d.status==true){if(TwCookie.isDesktopAppSet()==false){if(c.d.isAApp==false){setTimeout(function(){TwMsgs.DesktopUAMsg(c.d.statusHTML)},1000)}}else{if(c.d.errorNum==eTwMeta.RedirectToDesktop){var d=TwTools.getAppSetting(MobileAppConfig.desktopAppUrl);window.location.href=d;return false}}}else{if(c.d.isAApp==false){var e=TwDevice.IsIPhone();if(e==true){if(window.navigator.standalone!=true){setTimeout(TwMsgs.AddToHomeScreen,1000)}}if(TwDevice.IsAndroid()==true&&(TwCookie.isInstallAppSet()==false)){if(e==false&&TwDevice.IsWinPhone()==false){setTimeout(TwMsgs.InstallApp,1000)}}}else{var f=navigator.userAgent;if(f.lastIndexOf("/")>=0){var b=f.substr(f.lastIndexOf("/")+1,f.length);if(TwValidation.validateNumbers(b)==true){b=parseInt(b)}if(c.d.aVersion>b){$("<div>").mdialog({closeButton:"right",isSimpleBox:true,isMiniBox:true,content:"<p>"+"twandroid.newAppVersion".toLocaleString()+"</p><a href='#info/installapp' data-role='button' data-icon='carat-r' data-theme='b' data-iconpos='right'>OK</a>"})}}}}}});setTimeout(TwDevice.CheckPrivateBrowsing,1000)},1000)}});String.prototype.twformat=function(){var a=arguments;return this.replace(/\{(\d+)\}/g,function(b,c){return a[c]})};$(function(){$(window).on("orientationchange, resize",function(a){twFontResize()})});function twFontResize(){var d=$("li.homeBox");var e=$("li.homeBoxSport");if(d.length>0||e.length>0){var a=d.length>0?$(d[1]).width():$(e[1]).width();var b=a*0.7;var c=a*0.12;d.find(".menuBoxIconContainer").css("font-size",b);if(c>0){d.find(".homeBox-span").css("font-size",c)}$(d[0]).find(".menuBoxIconContainer").css("font-size",$(d[0]).width()*0.7);e.find(".menuBoxIconContainer").css("font-size",b);if(c>0){e.find(".homeBox-span").css("font-size",c)}$(e[0]).find(".menuBoxIconContainer").css("font-size",$(e[0]).width()*0.7)}}$(function(){$(document).on("change","input, textarea, select, input[type='checkbox']",function(a){a.preventDefault();var c=$(this).data("valfunction");if(typeof(c)!=="undefined"&&c!==null&&c!==""){if(typeof(window.TwValidation[c])==="function"){var b=window.TwValidation[c](this)}}});$(document).on("keyup keypress","form input[type='text']",function(c){var a=$(c.target);if(!a.is("#searchTerm")){var b=c.keyCode||c.which;if(b==13){c.preventDefault();return false}}});$(document).on("vclick",".tw-btn-scan",function(a){a.preventDefault();ScanCardUser()})});function switchLanguage(c,a){var d=$(c);if((d).hasClass("tw-btn-active")){return false}var b=$("#langList").find("a").removeClass("tw-btn-active");d.addClass("tw-btn-active");$("#newLang").val(a)}function validateBetLimit(a,c){if(c!==1&&c!==2&&c!==3){return false}$("#limitCommand").val(c);var b=validateGroup(a);return b}function validateGroup(b){var j=$("input[data-valgroup='"+b+"'], textarea[data-valgroup='"+b+"'], select[data-valgroup='"+b+"']");if(typeof j==="undefined"||j==null){return true}var h=j.length;var f=new Array(h);var g="";var a;var e;for(var c=0;c<h;c++){f[c]=true;e=$(j[c]).data("skip");if(typeof(e)!=="undefined"&&e===1){continue}g=$(j[c]).data("valfunction");if(typeof(g)!=="undefined"&&g!==""){a=window.TwValidation[g];if(typeof(a)==="function"){f[c]=a(j[c])}}}var d=true;if(f.length>0){for(var c=0;c<f.length;c++){if(f[c]===false){d=false;break}}}if(d){if(b==="login"){if($("#rememberMe").prop("checked")){$("#rememberUser").attr("disabled",true)}}else{if(b==="activation"){if($("#terms").prop("checked")){$("#tacHidden").attr("disabled",true)}}else{if(b==="transactions"){$("#currentPage").val("1")}}}}return d}function validateBetsGroup(a,b,f){if(!(a>0&&a<4)){return false}var d=TwValidation.tryParseInt($("#displayMode").val(),-1);if(d<=0||d>2){return false}var g=$("#currentPage");var c=TwValidation.tryParseInt(g.val(),-1);if(c===-1){return false}if(a===2||a===3){if(f<=0||c!==b){return false}if(c<=0||c>f){return false}if(a===2){g.val(c-1)}else{g.val(c+1)}$("form").submit()}if(a===1){if(d!==2){return false}var e=validateGroup("bets");if(e){g.val("1");if($("#liveBetsFilter").prop("checked")){$("#betsFilterHidden").attr("disabled",true)}else{$("#betsFilterHidden").attr("disabled",false)}}return e}}$.fn.serializeFormToJSONObject=function(){var c={};var b=this.serializeArray();$.each(b,function(){if(c[this.name]!==undefined){if(!c[this.name].push){c[this.name]=[c[this.name]]}c[this.name].push(this.value||"")}else{c[this.name]=this.value||""}});return c};$(function(){$(document).on("submit","form",function(a){var e=$(this);var b=false;if(e.data("submitted")===true){a.preventDefault();b=true}else{e.data("submitted",true)}var d=e.find("input[type='submit'], button[type='submit']");d.prop("disabled",true);if(!b){$.mobile.loading("show");var c=e.serializeFormToJSONObject();$.ajax({type:e.attr("method"),url:e.attr("action"),data:JSON.stringify(c),dataType:"json",contentType:"application/json; charset=utf-8"}).then(function(f,l,o){if((o.status===204)||((o.status===200)&&(isUndefinedOrNull(f)||isUndefinedOrNull(f.d)))){return}var j=f.d;if(!isUndefinedOrNull(j.scpf)){PaymentUtility.loadPaymentPage(JSON.parse(j.scpf));return}if(j.action===2){twRouter.navigate(j.redirectUri,{trigger:true});return}if(j.action===8){window.location.replace(j.redirectUri);return}if(j.action===3){diplayInfoMessage(j.message,j.html,j.mode);revalidateForm(j.validators);return}if(j.action===5){if(j.mode===5){var i=$("ul.tw-ul-overview");var m=i.offset().top;i.remove();try{var h=$(j.html).listview().listview("refresh");$("form").append(h);if((m-10)>0){$(document).scrollTop((m-10))}}catch(g){}}else{var k=$(j.html);k.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",k)}return}if(j.action===1){if(!isUndefinedOrNull(j.mode)&&j.mode===6){if(!isUndefinedOrNull(j.newLocale)){String.locale=j.newLocale}}var k=$(j.html);k.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",k);twRouter.navigate(j.redirectUri)}if(j.status===101){var n=j.validators;diplayInfoMessage(j.message,j.html);revalidateForm(j.validators)}else{if(j.status===200){diplayInfoMessage(j.message,j.html)}else{if(j.status===500){diplayInfoMessage(j.message,j.html)}}}},function(h,g){if(!isUndefinedOrNull(h.responseText)){var f=$.parseJSON(h.responseText);if(h.status===500){if(f.d.action===1){var i=$(f.d.html);i.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",i);twRouter.navigate(f.d.redirectUri)}else{diplayInfoMessage("",f.d.html,f.d.mode)}}else{if(h.status===302||h.status===303||h.status===401||h.status===403){twRouter.navigate(f.d.redirectUri,{trigger:true})}}}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide");d.prop("disabled",false);e.data("submitted",false)})}a.preventDefault()})});function isActivationFormValid(){var b=validateGroup("activation");if(!b){return false}var a=TwValidation.getActivationStatus();if(a>0){setActivationConfirmBox(a);return false}else{return true}}function setActivationConfirmBox(b){var a="";if(b===1){a="%activation.pwdAndemailEmpty".toLocaleString()}else{if(b===2){a="%activation.pwdEmpty".toLocaleString()}else{a="%activation.emailEmpty".toLocaleString()}}$("#accountActivationForm").addClass("fieldHide");$("#activationConfirmInfo").empty().html(a);$("#accountConformationView").removeClass("fieldHide")}function displayActivationForm(){$("#accountActivationForm").removeClass("fieldHide");$("#accountConformationView").addClass("fieldHide")}var TwValidation=(function(){var ah="input_textbox_error";var r="error-red";var a=false;var b=false;function I(ak){var am=ak.value;var al=false;if(!A(am)&&(/^[a-zA-Z0-9_-]{4,20}$/.test($.trim(am)))){al=true}U($(ak),al);return al}function H(ak){var an=ak.value;var al=false;var am=XRegExp("^[a-zA-Z0-9!#$()@?{}|*+,^./&=%_:;~-]{4,40}$");if(!A(an)&&am.test($.trim(an))){al=true}U($(ak),al);return al}function k(ak){var am=ad(ak.value);var al=z(am);U($(ak),al);return al}function p(ak){var an=ad(ak.value);var al=ad($("#email").val());var am=(z(an)&&(an===al));U($(ak),am);return am}function o(ak){var al=true;var am=ad(ak.value);if(!A(am)){al=z(am)}U($(ak),al);return al}function q(ak){var am=true;var an=ad(ak.value);var al=ad($("#email").val());if(A(an)&&A(al)){am=true;a=true}else{a=false;am=(z(an)&&(an===al))}U($(ak),am);return am}function S(ak){var al=true;var am=ad(ak.value);if(!A(am)){al=C(am)}U($(ak),al);return al}function T(ak){var al=true;var an=ad(ak.value);var am=ad($("#pswd").val());if(A(an)&&A(am)){al=true;b=true}else{b=false;al=(C(an)&&(an===am))}U($(ak),al);return al}function h(ak){var am=$("#monthSelect").val();var al=$("#daySelect").val();var an=$("#year").val();var ao=x(am,al,an);V($(ak),ao,true);return ao}function af(ak){var am=ad(ak.value);var al=(!A(am)&&/^[a-zA-Z0-9_-]{4,20}$/.test(am));U($(ak),al);return al}function X(ak){var an=$(ak);var am=parseInt(an.val(),10);var al=(!isUndefinedOrNull(am)&&(am>0)&&(am<4));V(an,al,false);return al}function W(ak){var am=ad(ak.value);var al=false;if(!A(am)){al=XRegExp("^[\\p{L}0-9-. ]{4,30}$").test(am)}U($(ak),al);return al}function Y(ak){var am=ad(ak.value);var al=true;if(!A(am)){al=XRegExp("^[\\p{L}0-9 '-._]{1,80}$").test(am)}U($(ak),al);return al}function Z(ak){var am=ad(ak.value);var al=(!A(am))&&(XRegExp("^[\\p{L}0-9 '-.?]{1,80}$").test(am));U($(ak),al);return al}function J(ak){var am=ad(ak.value);var al=(!A(am)&&(XRegExp("^[\\p{L}0-9!#$()?{}|*+,^.-/+&=%_:;~\\s\\n'\"-]{10,3000}$").test(am)));U($(ak),al);return al}function ab(ak){var am=$(ak);var an=am.val();var al=(an==="0"||an==="1");V(am,al,false);return al}function K(ak){var am=ad(ak.value);var al=(!A(am)&&(XRegExp("^[\\p{L}0-9 '-.]{1,80}$").test(am)));U($(ak),al);return al}function c(al){var ak=ad(al.value);var am=(!A(ak)&&XRegExp("^[\\p{L}0-9 /'-.]{1,80}$").test(ak));U($(al),am);return am}function v(al){var ak=ad(al.value);var am=true;if(!A(ak)){am=/^[a-zA-Z0-9 -]{1,20}$/.test(ak)}U($(al),am);return am}function N(ak){var am=ad(ak.value);var al=(!A(am)&&(/^[a-zA-Z0-9-]{1,20}$/.test(am)));U($(ak),al);return al}function j(al){var an=$(al);var ak=parseInt(an.val(),10);var am=(!isUndefinedOrNull(ak)&&(ak>0)&&(ak<300));V(an,am,false);return am}function i(ak){var an=$(ak);var am=parseInt(an.val(),10);var al=(!isUndefinedOrNull(am)&&((am>0&&am<8)||am==9));V(an,al,false);return al}function M(ak){var am=ad(ak.value);var al=true;if(!A(am)){al=(/^\+[1-9]{1}[0-9]{6,30}$/.test(am))}U($(ak),al);return al}function ag(ak){var am=ad(ak.value);var al=(!A(am)&&(/^[a-zA-Z0-9_-]{6,20}$/.test(am)));U($(ak),al);return al}function O(ak){var al=C(ak.value);U($(ak),al);return al}function R(al){var an=al.value;var ak=$("#pswd").val();var am=(!A(an)&&(an===ak));U($(al),am);return am}function aa(ak){var al=ak.checked;V($(ak),al,false);return al}function P(al){var an=$(al).val();var ak=$("#pswdCurrent").val();var am=(an!==ak&&C(an));U($(al),am);var ao=document.getElementById("pswdRepeated");if(!A(ao.value)){Q(ao)}return am}function Q(al){var ak=$("#pswdCurrent").val();var an=$("#pswd").val();var am=((al.value===an)&&(an!==ak)&&C(al.value));U($(al),am);return am}function l(ak){var am=ad(ak.value);var al=(am===ak.defaultValue);U($(ak),al);return al}function m(al){var ao=ad(al.value);var ak=ad($("#currentMail").val());var am=(ao!==ak&&z(ao));U($(al),am);var an=document.getElementById("emailRepeated");if(!A(an.value)){n(an)}return am}function n(ak){var am=ad($("#currentMail").val());var an=ad($("#email").val());var al=((ak.value===an)&&(an!==am)&&z(ak.value));U($(ak),al);return al}function aj(){var ak=ae($("#language").val(),0);var al=ae($("#newLang").val());if(y(ak)&&y(al)&&(ak!==al)){return true}return false}function G(ak){var an=$(ak);var am=parseInt(an.val(),10);var al=(!isUndefinedOrNull(am)&&(am===7||am===14||am===30||am===100));V(an,al,false);return al}function E(ak){var an=$(ak);var am=parseInt(an.val(),10);var al=(!isUndefinedOrNull(am)&&(am>99)&&(am<104));V(an,al,false);return al}function F(ak){var am=ad(ak.value);var al=true;if(!A(am)){al=XRegExp("^[\\p{L}0-9!#$()?{}|*+,^.-/+&=%_:;~\\s\\n'\"-]{1,4000}$").test(am)}U($(ak),al);return al}function f(ak){var am=$(ak);var an=ae(am.val(),-1);var al=(!isUndefinedOrNull(an)&&(an===1||an===2));V(am,al,false);return al}function e(ak){var al=$(ak);var an=ae(al.val(),-1);var am=(!isUndefinedOrNull(an)&&(an===1||an===7||an===30));V(al,am,false);return am}function d(ak){var an=ak.value.replace(",",".");var am=(!A(an)&&/^\d+(\.\d{0,2})?$/.test(an));if(am){var al=parseFloat(an);if(al<=0){am=false}}U($(ak),am);return am}function g(ak){var am=$(ak);var an=ae(am.val(),-1);var al=(!isUndefinedOrNull(an)&&(an===0||an===2||an===3||an===4||an===5));V(am,al,false);return al}function ac(ak){var am=$(ak);var an=ae(am.val(),-1);var al=(an>=0&&an<250);V(am,al,false);return al}function t(ak){var an=$(ak);var al=ae(an.val(),-1);var am=(al>-1&&al<200);V(an,am,false);return am}function s(ak){var am=$(ak);var an=ae(am.val(),-1);var al=(!isUndefinedOrNull(an)&&(an>=0&&an<5));V(am,al,false);return al}function L(ak){var au=$(ak);var at=ae(au.val(),-1);var ar=(!isUndefinedOrNull(at)&&(at===0||at===1||at===3||at===7||at===14||at===30||at===60));if(!ar){V(au,ar,false);return ar}if(at===0){var aq=false;var ap=false;var ax=$("#startMonth");var an=$("#endMonth");var av=ae(ax.val(),0);var ay=ae($("#startYear").val(),0);var aw,am;if(av>0&&ay>0){aw=new Date(ay,av-1,1,0,0,0,0);if(aw.getFullYear()===ay&&aw.getMonth()+1===av&&aw.getDate()===1){aq=true}}var al=ae(an.val(),0);var ao=ae($("#endYear").val(),0);if(al>0&&ao>0){am=new Date(ao,al-1,1,0,0,0,0);if(am.getFullYear()===ao&&am.getMonth()+1===al&&am.getDate()===1){ap=true}}if(aq&&ap){if(aw>am){ap=false}}V(ax,aq,true);V(an,ap,true);return(aq&&ap)}else{V(au,true,false);return true}}function z(ak){if(A(ak)){return false}var al=/^[a-zA-Z][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$/;return al.test(ak)}function x(at,ar,av){if(at==="-1"||ar==="-1"||av==="-1"){return false}var au=at+"-"+ar+"-"+av;var aq=XRegExp("^(?:(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])-(19|20)[0-9]{2})$");if(!aq.test(au)){return false}var ak=parseInt(ar,10);var al=parseInt(at,10);var am=parseInt(av,10);var an=new Date(am,al-1,ak,0,0,0,0);if(an.getFullYear()==am&&an.getMonth()+1==al&&an.getDate()==ak){var ao=new Date((an.getFullYear()+18),an.getMonth(),an.getDate());var ap=new Date();if((ap.getTime()-ao.getTime())>0){return true}}return false}function C(ak){if(A(ak)){return false}var al=XRegExp("^[a-zA-Z0-9!#$()@?{}|*+,^./&=%_:;~-]{5,40}$");if(al.test(ak)){return true}return false}function A(ak){if(typeof(ak)==="number"){return false}if(typeof ak==="undefined"||ak==null){return true}return ak.replace(/\s/g,"").length<1}function ae(am,ak){var al=ak;if(am!==null&&typeof(am)!=="undefined"){if(am.length>0){if(!isNaN(am)&&isFinite(am)){al=parseInt(am,10)}}}return al}function y(ak){return((ak>0&&ak<8)||ak===9)}function U(al,ak){if(ak===true){al.removeClass(ah)}else{al.addClass(ah)}}function V(an,am,al){var ak;if(al){ak=an.closest("div.ui-controlgroup-controls")}else{ak=an.closest("div")}if(am===true){ak.removeClass(ah)}else{ak.addClass(ah)}}function ad(ak){return $.trim(ak)}function B(){var ak=arguments.length;if(ak===0){return false}for(var al=0;al<ak;al++){if(A(arguments[al])||!(/^[0-9]{1,20}$/.test(arguments[al]))){return false}}return true}function ai(al){if(isUndefinedOrNull(al)||al.length===0){return true}for(var ak=0;ak<al.length;ak++){if(A(al[ak])||!(/^[0-9]{1,20}$/.test(al[ak]))){return false}}return true}function w(al){if(isUndefinedOrNull(al)||al.length===0){return false}if((al.length%4)!=0){return false}var ak=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$");return ak.test(al)}function u(){var ak=-1;if(b&&a){ak=1}else{if(b){ak=2}else{if(a){ak=3}}}return ak}function D(al){if(isUndefinedOrNull(al)||al.length===0){return false}var ak=XRegExp("^[a-zA-Z0-9+%/=_-]{1,200}$");if(!ak.test(al)){return false}return true}return{isNullOrWhitespace:A,loginUname:I,loginPswd:H,email:k,birthdate:h,sender:Y,subject:Z,message:J,title:ab,name:K,emailRepeated:p,address:c,houseNumber:v,postalCode:N,country:j,contactLanguage:i,phoneNumber:M,terms:aa,username:ag,pswd:O,pswdRepeated:R,resolveError:U,resolveSelectError:V,user:af,pswdNew:P,pswdNewRepeated:Q,validateSelectedLang:aj,emailCurrent:l,emailNew:m,emailNewRepeated:n,lockPeriod:G,lockMotive:E,lockMsg:F,betLimitType:f,betLimitInterval:e,betLimitAmount:d,tryParseInt:ae,validateNumbers:B,searchType:X,searchOffer:W,isNumericArrayValid:ai,isBase64:w,betStatus:g,periodSelect:L,transactionType:ac,mailOptional:o,mailRepeatedOptional:q,pwdOptional:S,pwdRepeatedOptional:T,getActivationStatus:u,isRouteKeyValid:D,gameType:t,gameStatus:s}})();function switchPanel(b){var a=["#personalSection","#contactSection","#accountSection","#confirmationSection"];$(a[b]).collapsible("expand")}var Tw_AjaxAccountUI2=(function(){var e="forms/";var f="account/";var d="GET";var a="json";var c=function(g){if(g.params.length>0){if(!TwValidation.isRouteKeyValid(g.params[0])){return}}return $.ajax({type:d,dataType:a,url:e+g.fragment,data:{},cache:false,beforeSend:function(h){$.mobile.loading("show")}}).then(function(h,k,l){if((l.status===204)||((l.status===200)&&(isUndefinedOrNull(h)||isUndefinedOrNull(h.d)))){return($.Deferred().reject())}var i=h.d;if(i.action===2){window.location.replace(i.redirectUri);return}if(!isUndefinedOrNull(i.action)&&!isUndefinedOrNull(i.mode)){if(i.action===3){diplayInfoMessage("",i.html,i.mode)}}else{var j=$(i.html);j.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",j);return(h)}},function(k,j){try{if(!isUndefinedOrNull(k.responseText)){var i=$.parseJSON(k.responseText);if(k.status===302&&!isUndefinedOrNull(i.d)&&!isUndefinedOrNull(i.d.errorUri)){twRouter.navigate(i.d.errorUri,{trigger:true})}else{if(k.status===500||k.status===404){if(i.d.action===1){var l=$(i.d.html);l.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",l);twRouter.navigate(i.d.redirectUri)}else{diplayInfoMessage("",i.d.html,i.d.mode)}}else{if(k.status===302||k.status===303||k.status===401||k.status===403){twRouter.navigate(i.d.redirectUri,{trigger:true})}}}}}catch(h){}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide")})};var b=function(g){if(g.params.length>0){if(g.fragment.indexOf("user-bets/bet/")>=0){var h=g.params[0];if(h.indexOf("C")>0){h=h.substring(0,h.length-1)}if(!(/^[0-9]{1,20}$/.test(h))){return}}else{if(g.fragment.indexOf("mail-update")>=0||g.fragment.indexOf("deposit-info")>=0){if(g.fragment.indexOf("mail-update")>=0&&!TwValidation.isRouteKeyValid(g.params[0])){return}}else{if(!TwValidation.isNumericArrayValid(g.params)){return}}}}return $.ajax({type:d,dataType:a,url:f+g.fragment,data:{},cache:false,beforeSend:function(i){$.mobile.loading("show")}}).then(function(j,p,q){if((q.status===204)||((q.status===200)&&(isUndefinedOrNull(j)||isUndefinedOrNull(j.d)))){return($.Deferred().reject())}var l=j.d;if(l.action===2){window.location.replace(l.redirectUri);return}if((g.fragment.indexOf("/bet/")>=0)||(g.fragment.indexOf("transaction")>=0)||(g.fragment.indexOf("bet-multi")>=0)||(g.fragment.indexOf("bonus-history")>=0)){var n=$('<div data-role="page"></div>');$(l.html).appendTo(n);n.appendTo("body").page().trigger("create");var m=$("<div class='tw-popup-wrap'></div>");m.append(n.children());n.remove();var k=$("#twInfoContentView");$("#twMainContentView").addClass("fieldHide");k.append(m).removeClass("fieldHide");if((g.fragment.indexOf("bet-multi")>=0)){if($.isArray(g.params)){if(g.params.length>0){var i=g.params[0];if(!isUndefinedOrNull(i)){$("#bsDetailsView-"+i).closest("div.tw-popup-wrap").addClass("fieldHide")}}}}}else{if(!isUndefinedOrNull(l.action)&&!isUndefinedOrNull(l.mode)){if(l.action===3){diplayInfoMessage("",l.html,l.mode)}}else{var o=$(l.html);o.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",o);return(j)}}},function(l,k){try{if(!isUndefinedOrNull(l.responseText)){var j=$.parseJSON(l.responseText);if(l.status===302&&!isUndefinedOrNull(j.d)&&!isUndefinedOrNull(j.d.errorUri)){twRouter.navigate(j.d.errorUri,{trigger:true})}else{if(l.status===500||l.status===404){if(j.d.action===1){var m=$(j.d.html);m.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",m);twRouter.navigate(j.d.redirectUri)}else{diplayInfoMessage("",j.d.html,j.d.mode)}}else{if(l.status===302||l.status===303||l.status===401||l.status===403){twRouter.navigate(j.d.redirectUri,{trigger:true})}}}}}catch(i){}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide")})};return{getView:c,getAccountView:b}}());$(document).on("click","#matchBetsWrap li.tw-btchange",function(c){c.preventDefault();var b=$(this);var a=b.attr("id").substring(4);var h=b.data("tid");if(!TwValidation.validateNumbers(h,a)){return}var d="betting/league/"+h+"/"+a;var g=[h,a];var f={route:"betting",fragment:d,params:g};TwBetClient.getBettingView(f)});var TwBetClient=(function(){var b="betting/";var a=function(d){if(!TwValidation.isNumericArrayValid(d.params)){return}var c=d.fragment;if(TwValidation.isNullOrWhitespace(d.fragment)||d.fragment==="home"){c=d.route}return $.ajax({type:"GET",dataType:"json",url:c,data:{},cache:false,beforeSend:function(e){$.mobile.loading("show")}}).then(function(e,i,j){if((j.status===204)||((j.status===200)&&(isUndefinedOrNull(e)||isUndefinedOrNull(e.d)))){return($.Deferred().reject())}var f=e.d;if(!isUndefinedOrNull(f.html)){var h=$(f.html);if(!isUndefinedOrNull(f.action)&&!isUndefinedOrNull(f.mode)){if(f.action===3){diplayInfoMessage("",h,f.mode)}}else{var g=f.sbets;if(!isUndefinedOrNull(g)){if(d.fragment.indexOf("live")>-1){MobileAppBase.LiveIds=g.split(",")}else{$(h).find(g).addClass("mach-type-selected")}}else{if(d.fragment.indexOf("live")>-1){MobileAppBase.LiveIds=[]}}h.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",h)}}return(e)},function(g,f){if(!isUndefinedOrNull(g.responseText)){var e=$.parseJSON(g.responseText);if(g.status===302&&!isUndefinedOrNull(e.d)&&!isUndefinedOrNull(e.d.errorUri)){twRouter.navigate(e.d.errorUri,{trigger:true})}else{if(g.status===500||g.status===404){if(e.d.action===1){var h=$(e.d.html);h.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",h);twRouter.navigate(e.d.redirectUri)}else{diplayInfoMessage("",e.d.html,e.d.mode)}}}}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide")})};return{getBettingView:a}}());var TwInfoHandler=(function(){var d="info/";var c="GET";var a="json";var b=function(e){$.mobile.loading("show");return $.ajax({type:c,dataType:a,url:e.fragment,data:{},cache:false,beforeSend:function(f){$.mobile.loading("show")}}).then(function(f,h,i){if((i.status===204)||((i.status===200)&&(isUndefinedOrNull(f)||isUndefinedOrNull(f.d)))){return($.Deferred().reject())}var g=$(f.d.html);g.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",g);return(f)},function(h,g){if(!isUndefinedOrNull(h.responseText)){var f=$.parseJSON(h.responseText);if(h.status===302&&!isUndefinedOrNull(f.d)&&!isUndefinedOrNull(f.d.errorUri)){twRouter.navigate(f.d.errorUri,{trigger:true})}else{if(h.status===500||h.status===404){if(f.d.action===1){var i=$(f.d.html);i.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",i);twRouter.navigate(f.d.redirectUri)}else{diplayInfoMessage("",f.d.html,f.d.mode)}}else{if(h.status===302||h.status===303||h.status===403){window.location.replace(errRspd.d.redirectUri)}}}}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide")})};return{getInfoView:b}}());var TwLogoutUser=function(a){$(a).addClass("ui-disabled");$.mobile.loading("show");$.ajax({type:"POST",url:"forms/logout",data:JSON.stringify({routeAction:"logout",__RequestVerificationToken:$("input:hidden[name=__RequestVerificationToken]").val()}),dataType:"json",contentType:"application/json; charset=utf-8"}).then(function(b,c,d){MobileAppBase.LiveIds.length=0;TwNavigation.ChangeRoute("home")},function(d,c){if(!isUndefinedOrNull(d.responseText)){var b=$.parseJSON(d.responseText);if(d.status===500){if(b.d.action===1){var e=$(b.d.html);e.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",e);twRouter.navigate(b.d.redirectUri)}else{diplayInfoMessage("",b.d.html,b.d.mode)}}else{if(d.status===302||d.status===303||d.status===401||d.status===403){window.location.replace(errRspd.d.redirectUri)}}}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide");$(a).addClass("ui-disabled")})};function closePopupDialogBox(){if($("div.ui-popup-active").length>0){$("input.tw-custom-close").click()}}function openHomeMenu(){$("#panel-right").panel().panel("open")}function setConfirmationPopup(){$("#myDetailsListView").addClass("fieldHide");$("#pswdCurrent").removeClass("input_textbox_error").val("");$("#editConformationView").removeClass("fieldHide")}function diplayInfoMessage(c,d,b){if($("div.ui-popup-active").length>0){$("input.tw-custom-close").click()}var a=$("div.ui-content");if(b===1||b===2){if(b===1){$("#twMainContentView").addClass("fieldHide")}else{$("#twMainContentView").remove()}var f=$('<div data-role="page"></div>');$(d).appendTo(f);f.appendTo("body").page().trigger("create");var e=$("<div></div>");e.append(f.children());f.remove();if($("#twInfoContentView").length>0){$("#twInfoContentView").empty().append(e).removeClass("fieldHide")}else{$("div.ui-page-active").empty().removeClass("ui-page ui-page-active").append(e)}}else{if(b===3){$("#twMainContentView").prepend(d)}}}function hideInfoView(){$("#twInfoContentView, #twInfoView").addClass("fieldHide");var f=$("#twMainContentView");var b=f.find(".input_textbox_error").eq(0);var e=f.find("ul.fz-sub-list");if(e.length>1){var a;for(var c=0;c<e.length;c++){a=$(e[c]);if(a.hasClass("fz-main-list")){a.removeClass("fieldHide")}else{if(a.hasClass("fz-nested-list")){a.addClass("fieldHide")}}}}f.removeClass("fieldHide");var d=(b.data("ignorefocus")!=="undefined"&&b.data("ignorefocus")===1);if(!d){b.focus().select()}}function revalidateForm(a){var e=$("#twMainContentView").find(".input_textbox_error").removeClass("input_textbox_error");if(!isArrayEmpty(a)){var d;var c;for(var b=0;b<a.length;b++){d=$("#"+a[b]);c=false;if(d.is("select")||d.is("input[type='checkbox']")){if(d.closest(".ui-select").parent().hasClass("ui-controlgroup-controls")){c=true}TwValidation.resolveSelectError(d,false,c)}else{TwValidation.resolveError(d)}d.data("skip",0)}}}function isUndefinedOrNull(a){if(typeof(a)==="undefined"||a===null){return true}return false}function isArrayEmpty(a){if(typeof(a)==="undefined"||a===null||a.length===0){return true}return false}function setSimpleHintPopup(b){if(isUndefinedOrNull(b)||(b<1)||(b>3)){return}var a;if(b===1){a="%inputHint.username".toLocaleString()}else{if(b===2){a="%inputHint.pswd".toLocaleString()}else{a="%inputHint.phone".toLocaleString()}}$("<div>").mdialog({closeButton:"right",isSimpleBox:true,isMiniBox:true,content:a})}function enableProfileEdit(){$("#editButtonsPanel").addClass("fieldHide");var a=$("#myDetailsListView").find("input[type='text'], select");var b=a.length;var e;if(b>0){for(var c=0,d=b;c<d;c++){e=$(a[c]);e.data("defvalue",e.val()).removeAttr("disabled").closest("div.ui-state-disabled").removeClass("ui-state-disabled")}}$("#updateButtonsPanel").removeClass("fieldHide")}function cancelProfileEdit(){$("#updateButtonsPanel").addClass("fieldHide");var a=$("#myDetailsListView").find("input[type='text'], select");var b=a.length;var f;var e;if(b>0){for(var c=0,d=b;c<d;c++){f=$(a[c]);f.removeClass("input_textbox_error").val(f.data("defvalue")).attr("disabled","disabled").closest("div").removeClass("input_textbox_error").addClass("ui-state-disabled");if((f).is("select")){e=f.find("option:selected").text();f.val(f.data("defvalue")).attr("disabled","disabled").closest("div").addClass("ui-state-disabled").children("span").text(e)}else{f.val(f.data("defvalue")).attr("disabled","disabled").closest("div").addClass("ui-state-disabled")}}}$("#editButtonsPanel").removeClass("fieldHide")}function validateEditGroup(d){var m=$("#myDetailsListView").find("input[type='text'], select");if(typeof m==="undefined"||m==null){return true}var l=m.length;var k="";var c;var b=0;var g,h;var a;var j=new Array(l);for(var e=0;e<l;e++){a=$(m[e]);h=a.data("defvalue");g=a.val();if(h===g){j[e]=true;continue}b+=1;k=$(m[e]).data("valfunction");if(typeof(k)!=="undefined"&&k!==""){c=window.TwValidation[k];if(typeof(c)==="function"){j[e]=c(m[e])}}}if(b===0){return false}var f=true;if(j.length>0){for(var e=0;e<j.length;e++){if(j[e]===false){return false}}}setConfirmationPopup()}function displayEditForm(){$("#editConformationView").addClass("fieldHide");$("#myDetailsListView").removeClass("fieldHide")}function validateEditConfirm(){var a=document.getElementById("pswdCurrent");return TwValidation.pswd(a)}function setKeypadAmountValue(c){var l=$(c.target);var k=c.target;var d=c.type;if(!isUndefinedOrNull(l)&&l.is("input[type='button']")){var h=$("#keypadAmount");var a=$("#alternatingBlock");var i=h.val();var b=l.data("cmd");if(!TwValidation.isNullOrWhitespace(b)){if(b==="resetAmount"){h.val(i.substring(0,i.length-1))}else{if(b==="setTotalInput"){if(!TwValidation.betLimitAmount(h[0])){return}a.find("input[type='text'].amount-block").val(i).trigger("change")}$("#keypadWrapper").addClass("fieldHide");a.removeClass("fieldHide");if(h.hasClass("input_textbox_error")){h.removeClass("input_textbox_error")}h.val("")}return}var j=l.val();i=i.concat(j);if(i.length>=10){return}var g=/^\d+(\.\d{0,2})?$/.test(i);if(!g){return}var f=parseFloat(i);if(f<=0){return}if(h.hasClass("input_textbox_error")){h.removeClass("input_textbox_error")}h.val(i)}}var TwFormHelper=(function(){function b(){$("#alternatingBlock").addClass("fieldHide");$("#keypadWrapper").removeClass("fieldHide");var d=$("#amount");if(d.length>0){d.removeClass("input_textbox_error")}}function a(e,d){var g=$(e).val();var f=$("#userPeriodSelectGroup");var h=(typeof(g)!=="undefined"&&g==="0");if(h){d.stopPropagation();f.removeClass("fieldHide")}else{if(!f.hasClass("fieldHide")){f.addClass("fieldHide")}f.find("div.input_textbox_error").removeClass("input_textbox_error")}}function c(e){var f=$("#currentPage");var d=TwValidation.tryParseInt(f.val(),-1);if(d===-1){return}if(e===1){f.val(d-1)}else{if(e===2){f.val(d+1)}}$("form").submit()}return{displayKeypad:b,checkPeriod:a,getPage:c}})();function getDetailedView(f,d,e,a){if(e<1||e>3){return}var b;if(e===1){b="#bsDetailsView-"+d}else{if(e===2){b="#utDetailsView-"+d}else{b="#bsCombView-"+d}}if($(b).length>0){$(b).closest("div.tw-popup-wrap").removeClass("fieldHide").prev("div.ui-popup-screen").removeClass("fieldHide");$("#twMainContentView").addClass("fieldHide");if(e===3){$("#bsDetailsView-"+d).closest("div.tw-popup-wrap").addClass("fieldHide")}return}var c=f+"/"+d;if(e===1&&(typeof(a)!=="undefined"&&a===1)){c+="C"}Backbone.history.loadUrl(c)}function closeDetailedView(a){$("#"+a).closest("div.tw-popup-wrap").addClass("fieldHide").prev("div.ui-popup-screen").addClass("fieldHide");$("#twMainContentView").removeClass("fieldHide")}function closeCombinationsView(a){$("#bsCombView-"+a).closest("div.tw-popup-wrap").addClass("fieldHide");$("#bsDetailsView-"+a).closest("div.tw-popup-wrap").removeClass("fieldHide")}function cancelPendingTransaction(a){if(isUndefinedOrNull(a)){return}if(!TwValidation.validateNumbers(a.trid)||TwValidation.isNullOrWhitespace(a.trch)){return}var b=JSON.stringify({transaction:a.trid,__RequestVerificationToken:$("input:hidden[name=__RequestVerificationToken]").val(),routeAction:"invalidation",cancelHash:a.trch});var c=$("form");$.mobile.loading("show");c.addClass("ui-disabled");$.ajax({type:"POST",url:"account/account-statement/invalidation",data:b,dataType:"json",contentType:"application/json; charset=utf-8"}).then(function(e,d,j){if((j.status===204)||((j.status===200)&&(isUndefinedOrNull(e)||isUndefinedOrNull(e.d)))){return($.Deferred().reject())}var g=e.d;if(g.action===2){twRouter.navigate(g.redirectUri,{trigger:true});return}if(g.action===3){if(!isUndefinedOrNull(g.accStatus)){$("#fAccbalance").text(g.accStatus)}diplayInfoMessage(g.message,g.html,g.mode);return}if(g.action===5){if(g.mode===5){$("ul.ui-listview").remove();var f=$(g.html).listview().listview("refresh");$("form").append(f)}else{var h=$(g.html);h.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",h)}return}if(g.action===1){var h=$(g.html);h.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",h);twRouter.navigate(g.redirectUri)}if(g.status===101){var i=g.validators;diplayInfoMessage(g.message,g.html);revalidateForm(g.validators)}else{if(g.status===200){diplayInfoMessage(g.message,g.html)}else{if(g.status===500){diplayInfoMessage(g.message,g.html)}}}},function(f,e){if(!isUndefinedOrNull(f.responseText)){var d=$.parseJSON(f.responseText);if(f.status===500){if(d.d.action===1){var g=$(d.d.html);g.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",g);twRouter.navigate(d.d.redirectUri)}else{diplayInfoMessage("",d.d.html,d.d.mode)}}else{if(f.status===302||f.status===303||f.status===401||f.status===403){window.location.replace(errRspd.d.redirectUri)}}}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide");c.removeClass("ui-disabled")})}function getBonusHistoryView(f,e){var a=$("#bonusHistoryView");if(a.length>0){var b=a.data("bonuscount");if(b===-1){a.closest("div.tw-popup-wrap").remove()}else{a.closest("div.tw-popup-wrap").removeClass("fieldHide");$("#twMainContentView").addClass("fieldHide");return}}var d=f;var c=TwValidation.tryParseInt(e,0);if(c>0){d+="/"+c}Backbone.history.loadUrl(d)}function closeBonusHistoryView(){$("#bonusHistoryView").closest("div.tw-popup-wrap").addClass("fieldHide");$("#twMainContentView").removeClass("fieldHide")}function cancelOpenBetslip(a){if(!TwValidation.validateNumbers(a)){return}var b=JSON.stringify({betslip:a.toString(),__RequestVerificationToken:$("input:hidden[name=__RequestVerificationToken]").val(),routeAction:"cancellation",cancelHash:$("#cancelHash").val()});var c=$("form");$.mobile.loading("show");c.addClass("ui-disabled");$.ajax({type:"POST",url:"account/user-bets/cancellation",data:b,dataType:"json",contentType:"application/json; charset=utf-8"}).then(function(e,d,j){if((j.status===204)||((j.status===200)&&(isUndefinedOrNull(e)||isUndefinedOrNull(e.d)))){return($.Deferred().reject())}var g=e.d;if(g.action===2){twRouter.navigate(g.redirectUri,{trigger:true});return}if(g.action===3){diplayInfoMessage(g.message,g.html,g.mode);if(!isUndefinedOrNull(g.accStatus)){$("#fAccbalance").text(g.accStatus)}return}if(g.action===5){if(g.mode===5){$("ul.ui-listview").remove();var f=$(g.html).listview().listview("refresh");$("form").append(f)}else{var h=$(g.html);h.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",h)}return}if(g.action===1){var h=$(g.html);h.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",h);twRouter.navigate(g.redirectUri)}if(g.status===101){var i=g.validators;diplayInfoMessage(g.message,g.html);revalidateForm(g.validators)}else{if(g.status===200){diplayInfoMessage(g.message,g.html)}else{if(g.status===500){diplayInfoMessage(g.message,g.html)}}}},function(f,e){if(!isUndefinedOrNull(f.responseText)){var d=$.parseJSON(f.responseText);if(f.status===500){if(d.d.action===1){var g=$(d.d.html);g.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",g);twRouter.navigate(d.d.redirectUri)}else{diplayInfoMessage("",d.d.html,d.d.mode)}}else{if(f.status===302||f.status===303||f.status===401||f.status===403){window.location.replace(errRspd.d.redirectUri)}}}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide");c.removeClass("ui-disabled")})}function setCancellationConfirmBox(a){$("<div>").mdialog({content:"<ul id='appModalPopup' data-role='listview' class='popupContainer'><li data-role='list-divider'>"+"%bsCancel.title".toLocaleString()+"</li><li class='tw-popup-li'><div class='tw-popup-box'>"+"%bsCancel.confirm".toLocaleString()+"</div></li><li class='tw-popup-li'><div class='ui-grid-a'><div class='ui-block-a'><input type='button' data-enhance='false' class='tw-custom-close' value='Ĩ' /></div><div class='ui-block-b'><input type='button' data-enhance='false' class='yes' value='Ģ' onclick='cancelOpenBetslip("+a+");' /></div></div></li></ul>",popDismissable:false,useCustomClose:true,customCloseClass:"tw-custom-close"})}function setTransCancelConfirm(b){var a=$(b);var c=JSON.stringify({trid:a.data("trid"),trch:a.data("trch")});$("<div>").mdialog({content:"<ul id='appModalPopup' data-role='listview' class='popupContainer'><li data-role='list-divider'>"+"%ptCancel.title".toLocaleString()+"</li><li class='tw-popup-li'><div class='tw-popup-box'>"+"%ptCancel.confirm".toLocaleString()+"</div></li><li class='tw-popup-li'><div class='ui-grid-a'><div class='ui-block-a'><input type='button' data-enhance='false' class='tw-custom-close' value='Ĩ' /></div><div class='ui-block-b'><input type='button' data-enhance='false' class='yes' value='Ģ' onclick='cancelPendingTransaction("+c+");' /></div></div></li></ul>",popDismissable:false,useCustomClose:true,customCloseClass:"tw-custom-close"})}function setFavoritesConfirmBox(){$("<div>").mdialog({content:"<ul id='appModalPopup' data-role='listview' class='popupContainer'><li class='tw-popup-li'><div class='tw-popup-box'>"+"%favsRemoval.confirm".toLocaleString()+"</div></li><li class='tw-popup-li'><div class='ui-grid-a'><div class='ui-block-a'><input type='button' data-enhance='false' class='tw-custom-close' value='Ĩ' /></div><div class='ui-block-b'><input type='button' data-enhance='false' class='yes' value='Ģ' onclick='TwUser.RemoveAllFavorites();' /></div></div></li></ul>",popDismissable:false,useCustomClose:true,customCloseClass:"tw-custom-close"})}function cancelPendingTransaction(a){if(isUndefinedOrNull(a)){return}if(!TwValidation.validateNumbers(a.trid)||TwValidation.isNullOrWhitespace(a.trch)){return}var b=JSON.stringify({transaction:a.trid,__RequestVerificationToken:$("input:hidden[name=__RequestVerificationToken]").val(),routeAction:"invalidation",cancelHash:a.trch});var c=$("form");$.mobile.loading("show");c.addClass("ui-disabled");$.ajax({type:"POST",url:"account/account-statement/invalidation",data:b,dataType:"json",contentType:"application/json; charset=utf-8"}).then(function(e,d,j){if((j.status===204)||((j.status===200)&&(isUndefinedOrNull(e)||isUndefinedOrNull(e.d)))){return($.Deferred().reject())}var g=e.d;if(g.action===2){twRouter.navigate(g.redirectUri,{trigger:true});return}if(g.action===3){if(!isUndefinedOrNull(g.accStatus)){$("#fAccbalance").text(g.accStatus)}diplayInfoMessage(g.message,g.html,g.mode);return}if(g.action===5){if(g.mode===5){$("ul.ui-listview").remove();var f=$(g.html).listview().listview("refresh");$("form").append(f)}else{var h=$(g.html);h.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",h)}return}if(g.action===1){var h=$(g.html);h.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",h);twRouter.navigate(g.redirectUri)}if(g.status===101){var i=g.validators;diplayInfoMessage(g.message,g.html);revalidateForm(g.validators)}else{if(g.status===200){diplayInfoMessage(g.message,g.html)}else{if(g.status===500){diplayInfoMessage(g.message,g.html)}}}},function(f,e){if(!isUndefinedOrNull(f.responseText)){var d=$.parseJSON(f.responseText);if(f.status===500){if(d.d.action===1){var g=$(d.d.html);g.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",g);twRouter.navigate(d.d.redirectUri)}else{diplayInfoMessage("",d.d.html,d.d.mode)}}else{if(f.status===302||f.status===303||f.status===401||f.status===403){window.location.replace(errRspd.d.redirectUri)}}}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide");c.removeClass("ui-disabled")})}function getBonusHistoryView(f,e){var a=$("#bonusHistoryView");if(a.length>0){var b=a.data("bonuscount");if(b===-1){a.closest("div.tw-popup-wrap").remove()}else{a.closest("div.tw-popup-wrap").removeClass("fieldHide");$("#twMainContentView").addClass("fieldHide");return}}var d=f;var c=TwValidation.tryParseInt(e,0);if(c>0){d+="/"+c}Backbone.history.loadUrl(d)}function closeBonusHistoryView(){$("#bonusHistoryView").closest("div.tw-popup-wrap").addClass("fieldHide");$("#twMainContentView").removeClass("fieldHide")}function displayMatchBetTypes(b,a){$("#matchBetsWrap").removeClass("fieldHide");$("#matchViewWrap").addClass("fieldHide");$(a).closest("div.ui-grid-solo").addClass("fieldHide");$("#mbt-"+b).addClass("tw-btn-active")}function closeMatchBetTypes(){$("#matchBetsWrap").addClass("fieldHide");$("#matchViewWrap").removeClass("fieldHide");$("#matchExtraBets").closest("div.ui-grid-solo").removeClass("fieldHide");TwNavigation.PageTop()}function showMatchBetsInfo(){$("#matchBetsWrap").find(".tw-type-desc").toggle()}$(function(){$(document).on("click","#matchViewWrap div.tw-bet",function(c){var g=$(this);if(isUndefinedOrNull(g)){return}if(g.hasClass("mach-type-disabled")&&!g.hasClass("mach-type-selected")){return}var a,d;a=g.attr("id").substring(2);var f=$("div.ui-page").attr("id");if(f===TwPageNames.Live_aspx){d=g.closest("div.odds-grid").data("mid")}else{d=g.closest("li").data("mid")}if(g.data("selected")==="1"){return}g.data("selected","1");$.mobile.loading("show");var b={bso:new betSlipObject({bid:a,mid:d,action:BSAction.AddRemoveBet})};$.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"betslip",data:JSON.stringify(b)}).then(function(e,j,k){if((k.status===204)||((k.status===200)&&(isUndefinedOrNull(e)||isUndefinedOrNull(e.d)))){return($.Deferred().reject())}var i=e.d;if(!isUndefinedOrNull(i.sbets)){$(i.sbets).addClass("mach-type-selected");$("#matchViewWrap").find("div.mach-type-selected").not(i.sbets).removeClass("mach-type-selected");MobileAppBase.LiveIds=i.sbets.split(",")}else{MobileAppBase.LiveIds.length=0;$("#matchViewWrap").find("div.mach-type-selected").removeClass("mach-type-selected")}if(!isUndefinedOrNull(i.bcount)){$("#fbsCounter").text(i.bcount)}else{$("#fbsCounter").text("0")}if(!isUndefinedOrNull(i.bmq)){$("#bsMaxQuota").text(i.bmq)}else{$("#bsMaxQuota").text("0.0")}if(i.status===300||i.status===200){if(!isUndefinedOrNull(i.msg)&&i.msg.length>0){var h=(i.status===200?0:1);TwBsHandler.setMessage(i.msg,h)}}},function(j,h){if(!isUndefinedOrNull(j.responseText)){var e=$.parseJSON(j.responseText);if(j.status===500){if(e.d.status===500){var k=$(e.d.msg);k.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",k);twRouter.navigate(e.d.redirectUri)}else{var i=e.msg;if(!isUndefined(i)&&i.length>0){TwBsHandler.setMessage(i,1)}}}else{if(j.status===302||j.status===303||j.status===401||j.status===403){window.location.replace(errRspd.d.redirectUri)}}}return($.Deferred().reject())}).always(function(e){g.data("selected","0");$.mobile.loading("hide")})});$(document).on("click","#matchRemovePopup li.matchMultibet",function(b){b.preventDefault();var c=$(this);var a=c.data("bid").split("-");TwBsHandler.removeBet(a)});$(document).on("vclick","#betslipKeypadView",function(a){a.preventDefault();TwBsHandler.keyboard(a)});$(document).on("click","#bsmBetWager, #bsmWager, #bsmTotalGain",function(a){a.preventDefault();var b=$(this);TwBsHandler.setAmount(b)})});var TwBsHandler=(function(){var a="tw-btn-active";var c="#betslipViewWrap";var H="tw-btn-active ui-icon-check";var b,r;var s;var k;function n(){var J=$(c);if(J.data("updating")==="1"){return true}else{J.data("updating","1");return false}}function v(){$(c).data("updating","0")}function o(J){if(typeof(J)==="undefined"||J===null){return true}return false}function m(){for(var J in arguments){if(!p(J)){return false}}return true}function q(N){var W=$(N.target);if(!W.is("input[type='button']")){return}var P="input_textbox_error";var R=$("#keypadAmount");var S=R.data("tempamount").toString();var L=W.data("cmd");if(!o(L)&&L!==""){if(L==="resetAmount"){var U=0;if(parseFloat(S)>0){var K=S.substring(0,S.length-1);if(K.length>0&&K!=="0."){U=parseFloat(K)}}R.val(U.toFixed(2)).data("tempamount",U)}else{if(L==="cancelInput"){if(R.hasClass(P)){R.removeClass(P)}i()}else{if(L==="setTotalInput"){if(!TwValidation.betLimitAmount(R[0])){return}var J=W.data("cmdmode");if(!(J===1||J===2||J===3)){return}var M=$.trim(R.data("defamount"));var T=parseFloat(M);var O=parseFloat(S);if(O===T){if(R.hasClass(P)){R.removeClass(P)}i();return}k={bso:new betSlipObject({action:BSAction.Calculation,calc:{amount:O,type:J}})};w(k)}if(R.hasClass(P)){R.removeClass(P)}}}return}var V=W.val();if(S==="0"&&V==="0"){return}if(S==="0"&&V!=="."){S=V}else{S=S.concat(V)}if(S.length>=12){return}var Q=/^\d+(\.\d{0,2})?$/.test(S);if(!Q){return}if(R.hasClass(P)){R.removeClass(P)}R.data("tempamount",S).val((parseFloat(S)).toFixed(2))}function p(J){return(/^[0-9]{1,20}$/.test(J))}function i(){$("#twMainContentView").removeClass("fieldHide").next().addClass("fieldHide")}function j(){$("#twMainContentView").addClass("fieldHide").next().removeClass("fieldHide")}function g(){$("#twMainContentView").removeClass("fieldHide");$("#twInfoContentView").empty().addClass("fieldHide")}function h(){$("#betslipViewWrap").removeClass("fieldHide");$("#bsPopupView").empty().addClass("fieldHide")}function l(){return $.ajax({type:"GET",dataType:"json",url:"betslip",data:{},cache:false,beforeSend:function(J){$.mobile.loading("show")}}).then(function(M,P,Q){if((Q.status===204)||((Q.status===200)&&(isUndefinedOrNull(M)||isUndefinedOrNull(M.d)))){return($.Deferred().reject())}var J=M.d;var O=J.status;if(O===200){var K=J.view;if(!o(K)){var L=$(K);L.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",L);var N=J.msg;if(!o(N)&&N.length>0){C(N,0)}return(M)}}else{if(O===300){var N=J.msg;if(!o(N)&&N.length>0){C(N,1);if($(".ui-popup-active").length>0){$("input.tw-custom-close").click()}}return($.Deferred().reject())}}},function(M,K){if(!isUndefinedOrNull(M.responseText)){var J=$.parseJSON(M.responseText);if(M.status===302&&!isUndefinedOrNull(J.d)&&!isUndefinedOrNull(J.d.errorUri)){twRouter.navigate(J.d.errorUri,{trigger:true})}else{if(M.status===500){if(J.d.status===500){var N=$(J.d.msg);N.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",N);twRouter.navigate(J.d.redirectUri)}else{var L=J.msg;if(!o(L)&&L.length>0){TwBsHandler.setMessage(L,1)}}}else{if(M.status===302||M.status===303||M.status===401||M.status===403){window.location.replace(errRspd.d.redirectUri)}}}}return($.Deferred().reject())}).always(function(J){$.mobile.loading("hide")})}function x(J){if(o(J)||!(J===0||J===1)){return}if(n()){return}k={bso:new betSlipObject({action:BSAction.ReuseBetslip,bmode:J})};w(k)}function d(){if(n()){return}k={bso:new betSlipObject({action:BSAction.ClearBets})};w(k)}function F(K){if($(K).hasClass(a)){return}if(n()){return}var J=$(K).data("mode");if(o(J)||(J!==0&&J!==1)){return}k={bso:new betSlipObject({bmode:J,action:BSAction.SwitchBetMode})};w(k)}function I(M){if(n()){return}var J=$(M);var L=J.data("sysbet");if(o(L)||!p(L)){return}var K=J.hasClass(H);k={bso:new betSlipObject({sysID:L,action:BSAction.SystemBet,exclude:K})};w(k)}function y(J){r=$(J).closest("li").attr("id").substring(4);if(!m(r)){return}var K=!($(J).hasClass(a));if(n()){return}k={bso:new betSlipObject({mid:r,exclude:K,action:BSAction.BankBet})};w(k)}function G(K){if(n()){return}var J=(K===1);k={bso:new betSlipObject({action:BSAction.AcceptOddsDecrease,exclude:J})};w(k)}function e(J,K){if(K!==0&&K!==1){return}s=$(J).closest("li");if(o(s)||s.length===0){return}r=s.attr("id").substring(4);if(K===0){u(r)}else{A(s)}}function u(J){if(n()){return}if(!p(J)){return}k={bso:new betSlipObject({action:BSAction.RemoveMatch,mid:J})};w(k)}function t(J){if(n()){return}if(o(J)||J.length===0){return}r=J[0];b=J[1];if(!p(r,b)){return}k={bso:new betSlipObject({action:BSAction.RemoveBet,mid:r,bid:b})};w(k).done(function(){s=$("#mid-"+r);A(s)})}function f(){if(n()){return}k={bso:new betSlipObject({action:BSAction.ClearUnactiveBets})};w(k)}function D(J){if(n()){return}displayPreloader();k={bso:new betSlipObject({action:BSAction.PlaceBetslip})};w(k)}function E(){BetslipTimer.init();$("<div>").mdialog({content:"<ul id='appModalPopup' data-role='listview' class='popupContainer'><li data-role='list-divider'>"+"%bsSubmit.title".toLocaleString()+"</li><li class='tw-popup-li'><div class='tw-popup-box'>"+"%bsSubmit.confirm".toLocaleString()+"</div></li><li class='tw-popup-li'><input type='button' class='tw-custom-close' value='Ĩ' data-enhance='false'/><input data-enhance='false' class='yes' type='button' value='Ģ' onclick='TwBsHandler.submit(this);' /></li></ul>",popDismissable:false,useCustomClose:true,customCloseClass:"tw-custom-close"})}function z(){$("<div>").mdialog({content:"<ul id='appModalPopup' data-role='listview' class='popupContainer'><li data-role='list-divider'>"+"%bsClear.title".toLocaleString()+"</li><li class='tw-popup-li'><div class='tw-popup-box'>"+"%bsClear.confirm".toLocaleString()+"</div></li><li class='tw-popup-li'><input type='button' class='tw-custom-close' value='Ĩ' data-enhance='false'/><input data-enhance='false' class='yes' type='button' value='ĩ' onclick='TwBsHandler.clear();' /></li></ul>",popDismissable:false,useCustomClose:true,customCloseClass:"tw-custom-close"})}function B(Q){var M=$.trim(Q.text());var K=Q.parent().prev().text();var L=Q.data("calc");if(!(L===1||L===2||L===3)){return}if($("#betslipKeypadView").length>0){$("#bsAmountBtn").val(K).data("cmdmode",L).button("refresh");var J=parseFloat(M);$("#keypadAmount").data("defamount",M).data("tempamount","0").val("0.00");j()}else{var N=getKeypadView(K,L,M);var P=$('<div data-role="page"></div>');$(N).appendTo(P);P.appendTo("body").page().trigger("create");var O=$("<div class='tw-popup-wrap'></div>");O.append(P.children());P.remove();$("#twInfoContentView").append(O).removeClass("fieldHide");$("#twMainContentView").addClass("fieldHide")}}function A(L){if(o(L)){return}var J=L.nextUntil("li.userBetItem").clone();if(o(J)||J.length===0){return}var K=[];var R;for(var M=0,N=J.length;M<N;M++){R=$(J[M]).removeClass("tw-bet-stop tw-bet-lock").addClass("matchMultibet");R.find(".bs-quota-span").removeClass("tw-odds-up tw-odds-down");K.push(R[0].outerHTML)}if(K.length==0){return}var P=L.find(".last-minute-team-details-title");var Q=$(P[0]).text();if(P.length>1){Q+=" - "+$(P[1]).text()}var O="<ul data-role='listview' id='matchRemovePopup'><li data-role='list-divider'>"+Q+"</li>"+K.join("")+"<li><input data-enhance='false' type='button' value='Ĩ' class='tw-custom-close' data-icon='delete' /><input class='yes' data-enhance='false' type='button' value='ĩ' onclick='TwBsHandler.removeMatch("+r+");' /></li></ul>";$("<div>").mdialog({content:O,popDismissable:true,useCustomClose:true,customCloseClass:"tw-custom-close"})}function C(K,J){if(J===0){var M=$('<div data-role="page"></div>');$(K).appendTo(M);M.appendTo("body").page().trigger("create");var L=$("<div class='tw-popup-wrap'></div>");L.append(M.children());M.remove();$("#twMainContentView").addClass("fieldHide");$("#twInfoContentView").empty().append(L).removeClass("fieldHide")}else{var M=$(K);M.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",M)}}function w(J){var K=$(document).scrollTop();var L=(J.bso.action!==BSAction.PlaceBetslip);return $.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"betslip",data:JSON.stringify(J),beforeSend:function(M){if(L){$.mobile.loading("show")}}}).then(function(P,S,T){if((T.status===204)||((T.status===200)&&(isUndefinedOrNull(P)||isUndefinedOrNull(P.d)))){return($.Deferred().reject())}var M=P.d;var R=M.status;if(R===200){var N=M.view;if(!o(N)){var O=$(N);O.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",O);$(document).scrollTop(K);var Q=M.msg;if(!o(Q)&&Q.length>0){C(Q,0)}return(P)}}else{if(R===300){var Q=M.msg;if(!o(Q)&&Q.length>0){C(Q,1);if($(".ui-popup-active").length>0){$("input.tw-custom-close").click()}}return($.Deferred().reject())}}},function(P,N){if(!isUndefinedOrNull(P.responseText)){var M=$.parseJSON(P.responseText);if(P.status===500){if(M.d.status===500){var Q=$(M.d.msg);Q.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",Q);twRouter.navigate(M.d.redirectUri)}else{var O=M.msg;if(!o(O)&&O.length>0){TwBsHandler.setMessage(O,1)}}}else{if(P.status===302||P.status===303||P.status===401||P.status===403){window.location.replace(errRspd.d.redirectUri)}}}return($.Deferred().reject())}).always(function(M){if(L){$.mobile.loading("hide")}else{hidePreloader()}v()})}return{switchMode:F,clearBetslip:z,clear:d,bank:y,clearBet:e,setSysBet:I,setOddsAcceptance:G,removeBet:t,removeMatch:u,setAmount:B,keyboard:q,submit:D,confirm:E,reuse:x,closeInfo:g,loadBetslip:l,setMessage:C,clearUnactive:f,closeRestrictionInfo:h}}());function getKeypadView(a,b,c){var d="";if(!isUndefinedOrNull(c)){d=parseFloat(c)}var e=['<div id="betslipKeypadView">','<div class="ui-grid-solo">','<input type="text" value="0.00" data-mini="true" id="keypadAmount" data-defamount="'+d+'" data-tempamount="0" class="ui-disabled" style="opacity:1;font-weight:bold;" />',"</div>",'<div class="ui-grid-b input-numerics">','<div class="ui-block-a"><input type="button" data-mini="true" value="1" /></div>','<div class="ui-block-b"><input type="button" data-mini="true" value="2" /></div>','<div class="ui-block-c"><input type="button" data-mini="true" value="3" /></div>','<div class="ui-block-a"><input type="button" data-mini="true" value="4" /></div>','<div class="ui-block-b"><input type="button" data-mini="true" value="5" /></div>','<div class="ui-block-c"><input type="button" data-mini="true" value="6" /></div>','<div class="ui-block-a"><input type="button" data-mini="true" value="7" /></div>','<div class="ui-block-b"><input type="button" data-mini="true" value="8" /></div>','<div class="ui-block-c"><input type="button" data-mini="true" value="9" /></div>','<div class="ui-block-a"><input type="button" data-mini="true" value="." /></div>','<div class="ui-block-b"><input type="button" data-mini="true" value="0" /></div>','<div class="ui-block-c"><input type="button" data-mini="true" data-cmd="resetAmount" value="C" /></div>',"</div>",'<div class="ui-grid-solo">','<div class="ui-block-a"><input type="button" data-mini="true" class="tw-white-space-normal" data-cmd="cancelInput" value="'+"%csButton.cancel".toLocaleString()+'" data-icon="delete" data-iconpos="right" data-theme="e" /></div>',"</div>",'<div class="ui-grid-solo">','<div class="ui-block-a"><input type="button" data-mini="true" class="tw-white-space-normal" id="bsAmountBtn" data-cmdmode="'+b+'" data-cmd="setTotalInput" value="'+a+'" data-icon="check" data-iconpos="right" data-theme="c" /></div>',"</div>","</div>"];return e.join("")}var PaymentUtility=(function(){function b(l){var h=$(l);var k=h.data("step");var m=h.data("infoinit")===1;var f=$("#paymentStep-"+k);if(k>1){if(k===2&&m){var r=h.data("pmid");var o=h.data("minamount");var n=h.data("maxamount");var i=h.find(".po-ref");var s=i.text();var p=r;if(!TwValidation.isNullOrWhitespace(s)){p+=" ("+s+")"}var q=h.find("div.payment-option").attr("class");$("#paymentOption").attr("class",q).next("div").html(s);$("#minAmount").html(o.toFixed(2));$("#maxAmount").html(n.toFixed(2));var e=$("#amount");var j=e.val();if(TwValidation.isNullOrWhitespace(j)){e.val(o)}$("#pcode").val(h.data("pmref"));$("#ptype").val(h.data("pmid"))}else{if(k===3){$("#selectedAmount").html($("#amount").val())}else{$("#paymentOption").next("div").html("")}}var g=$("#paymentNote");g.find("div.pai-"+k).removeClass("fieldHide").siblings("div.pa-info").addClass("fieldHide");g.removeClass("fieldHide");f.children("li.selection-info").html(g)}else{$("li.pm-specific").addClass("fieldHide")}f.removeClass("fieldHide").siblings("ul.payment-step").addClass("fieldHide")}function a(e){WirecardPaymentPage.hostedPay(e)}function c(e,f){var h=f;if((typeof(e)!=="undefined"&&e!==null)&&e.length>0){var i=e.replace(",",".");if((/^\d+(\.\d{0,2})?$/.test(i))&&(i.length>0)){if(!isNaN(i)&&isFinite(i)){var g=parseFloat(i);if(g>0){h=g}}}}return h}function d(){var e=$("#amount");if(e.length===0){return true}var g=false;var f=c(e.val(),0);if(f>0){var i=c($("#minAmount").text(),0);if(i>0&&(f>=i)){var h=c($("#maxAmount").text(),0);if(h>0&&f<=h){g=true}}}if(g){e.removeClass("input_textbox_error")}else{e.addClass("input_textbox_error")}return g}return{resolveStep:b,validateOfflinePayment:d,loadPaymentPage:a}}());var GeoIpClient=(function(){function b(f,g){var d=$(f);if((d).hasClass("ui-btn-c")){return}var e=$("#timezonesWrap").find("a.ui-btn-c").removeClass("ui-btn-c").addClass("ui-btn-a");d.addClass("ui-btn-c");$("#newTimezone").val(g);$("#country").val(d.data("cc"))}function c(){var e=$("#timezone").val();var f=$("#newTimezone").val();var d=$("#country").val();if(!a(f)){return false}if(e===f){return false}if(!a(d)){return false}return true}function a(d){if(typeof(d)==="undefined"||d===null&&d.length===0){return false}return true}return{switchTimezone:b,validateTimezone:c}})();