!function(S){function U(a,e,f){"addEventListener" in S?a.addEventListener(e,f,!1):"attachEvent" in S&&a.attachEvent("on"+e,f)}function W(){var a,d=["moz","webkit","o","ms"];for(a=0;a<d.length&&!ar;a+=1){ar=S[d[a]+"RequestAnimationFrame"]}ar||ae("setup","RequestAnimationFrame not supported")}function Y(a){var d="Host page: "+a;return S.top!==S.self&&(d=S.parentIFrame&&S.parentIFrame.getId?S.parentIFrame.getId()+": "+a:"Nested host page: "+a),d}function aa(b){return al+"["+Y(b)+"]"}function ac(b){return aw[b]?aw[b].log:ad}function ae(c,d){ak("log",c,d,ac(c))}function ag(c,d){ak("info",c,d,ac(c))}function ai(c,d){ak("warn",c,d,!0)}function ak(a,e,g,h){!0===h&&"object"==typeof S.console&&console[a](aa(e),g)}function am(g){function i(){function b(){aB(K),av(L)}o("Height"),o("Width"),aD(b,K,"init")}function m(){var b=J.substr(an).split(":");return{iframe:aw[b[0]].iframe,id:b[0],height:b[1],width:b[2],type:b[3]}}function o(f){var j=Number(aw[L]["max"+f]),k=Number(aw[L]["min"+f]),v=f.toLowerCase(),w=Number(K[v]);ae(L,"Checking "+v+" is in range "+k+"-"+j),k>w&&(w=k,ae(L,"Set "+v+" to min value")),w>j&&(w=j,ae(L,"Set "+v+" to max value")),K[v]=""+w}function q(){function b(){function c(){var j=0,k=!1;for(ae(L,"Checking connection is from allowed list of origins: "+f);j<f.length;j++){if(f[j]===e){k=!0;break}}return k}function d(){var j=aw[L].remoteHost;return ae(L,"Checking connection is from: "+j),e===j}return f.constructor===Array?c():d()}var e=g.origin,f=aw[L].checkOrigin;if(f&&""+e!="null"&&!b()){throw new Error("Unexpected message received from: "+e+" for "+K.iframe.id+". Message was: "+g.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.")}return !0}function u(){return al===(""+J).substr(0,an)&&J.substr(an).split(":")[0] in aw}function I(){var b=K.type in {"true":1,"false":1,undefined:1};return b&&ae(L,"Ignoring init message from meta parent page"),b}function O(b){return J.substr(J.indexOf(":")+aj+b)}function Q(b){ae(L,"MessageCallback passed: {iframe: "+K.iframe.id+", message: "+b+"}"),n("messageCallback",{iframe:K.iframe,message:JSON.parse(b)}),ae(L,"--")}function R(){var e=document.body.getBoundingClientRect(),f=K.iframe.getBoundingClientRect(),j=JSON.stringify({clientHeight:Math.max(document.documentElement.clientHeight,S.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,S.innerWidth||0),offsetTop:parseInt(f.top-e.top,10),offsetLeft:parseInt(f.left-e.left,10),scrollTop:S.pageYOffset,scrollLeft:S.pageXOffset});aE("Send Page Info","pageInfo:"+j,aw[L].iframe,L)}function aL(){var b=!0;return null===K.iframe&&(ai(L,"IFrame ("+K.id+") not found"),b=!1),b}function aM(c){var d=c.getBoundingClientRect();return at(L),{x:Math.floor(Number(d.left)+Number(ap.x)),y:Math.floor(Number(d.top)+Number(ap.y))}}function a(j){function k(){ap=y,h(),ae(L,"--")}function v(){return{x:Number(K.width)+x.x,y:Number(K.height)+x.y}}function w(){S.parentIFrame?S.parentIFrame["scrollTo"+(j?"Offset":"")](y.x,y.y):ai(L,"Unable to scroll to requested position, window.parentIFrame not found")}var x=j?aM(K.iframe):{x:0,y:0},y=v();ae(L,"Reposition requested from iFrame (offset x:"+x.x+" y:"+x.y+")"),S.top!==S.self?w():k()}function h(){!1!==n("scrollCallback",ap)?av(L):ax()}function l(j){function k(){var b=aM(y);ae(L,"Moving to in page link (#"+w+") at x: "+b.x+" y: "+b.y),ap={x:b.x,y:b.y},h(),ae(L,"--")}function v(){S.parentIFrame?S.parentIFrame.moveToAnchor(w):ae(L,"In page link #"+w+" not found and window.parentIFrame not found")}var w=j.split("#")[1]||"",x=decodeURIComponent(w),y=document.getElementById(x)||document.getElementsByName(x)[0];y?k():S.top!==S.self?v():ae(L,"In page link #"+w+" not found")}function n(c,d){return ao(L,c,d)}function p(){switch(aw[L].firstRun&&t(),K.type){case"close":aq(K.iframe);break;case"message":Q(O(6));break;case"scrollTo":a(!1);break;case"scrollToOffset":a(!0);break;case"pageInfo":R();break;case"inPageLink":l(O(9));break;case"reset":az(K);break;case"init":i(),n("initCallback",K.iframe),n("resizedCallback",K);break;default:i(),n("resizedCallback",K)}}function r(c){var d=!0;return aw[c]||(d=!1,ai(K.type+" No settings for "+c+". Message was: "+J)),d}function s(){for(var b in aw){aE("iFrame requested init",aF(b),document.getElementById(b),b)}}function t(){aw[L].firstRun=!1}var J=g.data,K={},L=null;"[iFrameResizerChild]Ready"===J?s():u()?(K=m(),L=aA=K.id,!I()&&r(L)&&(ae(L,"Received: "+J),aL()&&q()&&p())):ag(L,"Ignored: "+J)}function ao(f,g,h){var i=null,j=null;if(aw[f]){if(i=aw[f][g],"function"!=typeof i){throw new TypeError(g+" on iFrame["+f+"] is not a function")}j=i(h)}return j}function aq(c){var d=c.id;ae(d,"Removing iFrame: "+d),c.parentNode.removeChild(c),ao(d,"closedCallback",d),ae(d,"--"),delete aw[d]}function at(a){null===ap&&(ap={x:void 0!==S.pageXOffset?S.pageXOffset:document.documentElement.scrollLeft,y:void 0!==S.pageYOffset?S.pageYOffset:document.documentElement.scrollTop},ae(a,"Get page position: "+ap.x+","+ap.y))}function av(a){null!==ap&&(S.scrollTo(ap.x,ap.y),ae(a,"Set page position: "+ap.x+","+ap.y),ax())}function ax(){ap=null}function az(c){function d(){aB(c),aE("reset","reset",c.iframe,c.id)}ae(c.id,"Size reset requested by "+("init"===c.type?"host page":"iFrame")),at(c.id),aD(d,c,"reset")}function aB(f){function g(a){f.iframe.style[a]=f[a]+"px",ae(f.id,"IFrame ("+j+") "+a+" set to "+f[a]+"px")}function h(a){af||"0"!==f[a]||(af=!0,ae(j,"Hidden iFrame detected, creating visibility listener"),aI())}function i(b){g(b),h(b)}var j=f.iframe.id;aw[j]&&(aw[j].sizeHeight&&i("height"),aw[j].sizeWidth&&i("width"))}function aD(d,e,f){f!==e.type&&ar?(ae(e.id,"Requesting animation frame"),ar(d)):d()}function aE(g,h,j,k){function l(){ae(k,"["+g+"] Sending msg to iframe["+k+"] ("+h+") targetOrigin: "+n),j.contentWindow.postMessage(al+h,n)}function m(){ag(k,"["+g+"] IFrame("+k+") not found"),aw[k]&&delete aw[k]}k=k||j.id;var n=aw[k].targetOrigin;j&&"contentWindow" in j?l():m()}function aF(b){return b+":"+aw[b].bodyMarginV1+":"+aw[b].sizeWidth+":"+aw[b].log+":"+aw[b].interval+":"+aw[b].enablePublicMethods+":"+aw[b].autoResize+":"+aw[b].bodyMargin+":"+aw[b].heightCalculationMethod+":"+aw[b].bodyBackground+":"+aw[b].bodyPadding+":"+aw[b].tolerance+":"+aw[b].inPageLinks+":"+aw[b].resizeFrom+":"+aw[b].widthCalculationMethod}function aG(b,g){function i(){function a(c){1/0!==aw[F][c]&&0!==aw[F][c]&&(b.style[c]=aw[F][c]+"px",ae(F,"Set "+c+" = "+aw[F][c]+"px"))}function d(c){if(aw[F]["min"+c]>aw[F]["max"+c]){throw new Error("Value for min"+c+" can not be greater than max"+c)}}d("Height"),d("Width"),a("maxHeight"),a("minHeight"),a("maxWidth"),a("minWidth")}function m(){var c=g&&g.id||aC.id+ab++;return null!==document.getElementById(c)&&(c+=ab++),c}function q(a){return aA=a,""===a&&(b.id=a=m(),ad=(g||{}).log,aA=a,ae(a,"Added missing iframe ID: "+a+" ("+b.src+")")),a}function t(){ae(F,"IFrame scrolling "+(aw[F].scrolling?"enabled":"disabled")+" for "+F),b.style.overflow=!1===aw[F].scrolling?"hidden":"auto",b.scrolling=!1===aw[F].scrolling?"no":"yes"}function u(){("number"==typeof aw[F].bodyMargin||"0"===aw[F].bodyMargin)&&(aw[F].bodyMarginV1=aw[F].bodyMargin,aw[F].bodyMargin=""+aw[F].bodyMargin+"px")}function x(){var a=aw[F].firstRun,d=aw[F].heightCalculationMethod in au;!a&&d&&az({iframe:b,height:0,width:0,type:"init"})}function y(){Function.prototype.bind&&(aw[F].iframe.iFrameResizer={close:aq.bind(null,aw[F].iframe),resize:aE.bind(null,"Window resize","resize",aw[F].iframe),moveToAnchor:function(c){aE("Move to anchor","inPageLink:"+c,aw[F].iframe,F)},sendMessage:function(c){c=JSON.stringify(c),aE("Send Message","message:"+c,aw[F].iframe,F)}})}function z(a){function e(){aE("iFrame.onload",a,b),x()}U(b,"load",e),aE("init",a,b)}function A(c){if("object"!=typeof c){throw new TypeError("Options is not an object")}}function B(c){for(var d in aC){aC.hasOwnProperty(d)&&(aw[F][d]=c.hasOwnProperty(d)?c[d]:aC[d])}}function C(c){return""===c||"file://"===c?"*":c}function D(a){a=a||{},aw[F]={firstRun:!0,iframe:b,remoteHost:b.src.split("/").slice(0,3).join("/")},A(a),B(a),aw[F].targetOrigin=!0===aw[F].checkOrigin?C(aw[F].remoteHost):"*"}function E(){return F in aw&&"iFrameResizer" in b}var F=q(b.id);E()?ai(F,"Ignored iFrame, already setup."):(D(g),t(),i(),u(),z(aF(F)),y())}function aH(c,d){null===ay&&(ay=setTimeout(function(){ay=null,c()},d))}function aI(){function a(){function c(e){function i(k){return"0px"===aw[e].iframe.style[k]}function j(b){return null!==b.offsetParent}j(aw[e].iframe)&&(i("height")||i("width"))&&aE("Visibility change","resize",aw[e].iframe,e)}for(var d in aw){c(d)}}function f(b){ae("window","Mutation observed: "+b[0].target+" "+b[0].type),aH(a,16)}function g(){var c=document.querySelector("body"),e={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},i=new h(f);i.observe(c,e)}var h=S.MutationObserver||S.WebKitMutationObserver;h&&g()}function aJ(c){function d(){T("Window "+c,"resize")}ae("window","Trigger event: "+c),aH(d,16)}function aK(){function b(){T("Tab Visable","resize")}"hidden"!==document.visibilityState&&(ae("document","Trigger event: Visiblity change"),aH(b,16))}function T(e,f){function g(b){return"parent"===aw[b].resizeFrom&&aw[b].autoResize&&!aw[b].firstRun}for(var h in aw){g(h)&&aE(e,f,document.getElementById(h),h)}}function V(){U(S,"message",am),U(S,"resize",function(){aJ("resize")}),U(document,"visibilitychange",aK),U(document,"-webkit-visibilitychange",aK),U(S,"focusin",function(){aJ("focus")}),U(S,"focus",function(){aJ("focus")})}function X(){function c(b,e){if(e){if(!e.tagName){throw new TypeError("Object is not a valid DOM element")}if("IFRAME"!==e.tagName.toUpperCase()){throw new TypeError("Expected <IFRAME> tag, found <"+e.tagName+">")}aG(e,b),d.push(e)}}var d;return W(),V(),function(a,b){switch(d=[],typeof b){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(b||"iframe"),c.bind(void 0,a));break;case"object":c(a,b);break;default:throw new TypeError("Unexpected data type ("+typeof b+")")}return d}}function Z(b){b.fn.iFrameResize=function(c){return this.filter("iframe").each(function(a,d){aG(d,c)}).end()}}var ab=0,ad=!1,af=!1,ah="message",aj=ah.length,al="[iFrameSizer]",an=al.length,ap=null,ar=S.requestAnimationFrame,au={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},aw={},ay=null,aA="Host Page",aC={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){ai("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return !0}};S.jQuery&&Z(jQuery),"function"==typeof define&&define.amd?define([],X):"object"==typeof module&&"object"==typeof module.exports?module.exports=X():S.iFrameResize=S.iFrameResize||X()}(window||{});var virtualGamingClient=(function(){var j="#sevenPlugin";function i(){var k=d();if(k.length>0){var n=k.prop("src");if(f(n)){var m=n.split("?")[0];if(m.indexOf("logout")<0){var l=m+"?auth=b2b&logout=true";k.prop("src",l);k.addClass("hide")}}}}function d(){return $(j)}function c(){var k=d();if(k.length>0){var l=k.prop("src");if(f(l)){if(l.indexOf("token")>-1&&l.indexOf("id")>-1){$("#vgPreloader, #gamingOptions").addClass("hide");b(_genericGameError)}}k.remove()}}function b(o){var n=$("#popUpWrapper");var l=$("#notification");var m=$("#popupTitle");var k=$("#popup-footer");k.html("<button type='button' class='modal-button modal-ok' onclick='virtualGamingClient.resetGames();'><span class='glyphicon glyphicon-refresh'></span>"+button_OK+"</button>");m.html("Info");l.html(o).attr("class","popup-message popup-notice");n.removeClass("hide")}function g(){$("#popUpWrapper").addClass("hide");blockScreen();$("#vgCloser").click()}function e(k){if(typeof(k)!=="undefined"&&k!==null){return true}return false}function f(k){if(typeof(k)!=="undefined"&&k!==null){if(k.length>0){return true}}return false}function h(){var k=$("#selectedVgame").val();if(!f(k)){return}blockScreen();i();setTimeout(function(){$("#vgStarter").click()},300)}function a(){blockScreen();i();setTimeout(function(){$("#vgCloser").click()},300)}return{tryLogoutGame:i,restartGame:h,closeGame:a,externalLogout:c,resetGames:g}})();