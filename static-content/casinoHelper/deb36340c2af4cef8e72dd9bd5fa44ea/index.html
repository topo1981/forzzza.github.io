var CasinoUtility=(function(){var l="casino-gaming/";var a="#gamingAmount";function v(x,y){var A=y;if(g(x)&&x.length>0){var B=x.replace(",",".");if((/^\d+(\.\d{0,2})?$/.test(B))&&(B.length>0)){if(!isNaN(B)&&isFinite(B)){var z=parseFloat(B);if(z>0){A=z}}}}return A}function q(A){var H=$(A.target);if(!H.is("input[type='button']")){return}var B="input_textbox_error";var D=$("#keypadAmount");var x=$("#alternatingBlock");var E=D.data("tempamount").toString();var z=H.data("cmd");if(!TwValidation.isNullOrWhitespace(z)){if(z==="resetAmount"){var F=0;if(parseFloat(E)>0){var y=E.substring(0,E.length-1);if(y.length>0&&y!=="0."){F=parseFloat(y)}}D.val(F.toFixed(2)).data("tempamount",F)}else{if(z==="setTotalInput"){if(!TwValidation.betLimitAmount(D[0])){return}x.find("input[type='text'].amount-block").val(E).trigger("change")}$("#keypadWrapper").addClass("fieldHide");x.removeClass("fieldHide");if(D.hasClass("input_textbox_error")){D.removeClass("input_textbox_error")}D.val("0.00").data("defamount",0).data("tempamount","0")}return}var G=H.val();if(E==="0"&&G==="0"){return}if(E==="0"&&G!=="."){E=G}else{E=E.concat(G)}if(E.length>=12){return}var C=/^\d+(\.\d{0,2})?$/.test(E);if(!C){return}if(D.hasClass(B)){D.removeClass(B)}D.data("tempamount",E).val((parseFloat(E)).toFixed(2))}function w(x,z){var y=typeof(x);if(y==="number"&&x>0){return x}var A=z;if(x!==null&&y!=="undefined"){if(x.length>0){if(!isNaN(x)&&isFinite(x)){A=parseInt(x,10)}}}return A}function m(){$("#gamingAmount").val("")}function o(x){var y=false;return $.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:_lcgc.keepAlive,data:null}).then(function(B,C,D){if((D.status===200)&&g(B)&&g(B.d)){var z=B.d;if(z.crs===n.OK){y=true}else{var A=z.cri;if(g(A)){if(g(A.scg)&&A.scg===1){if(g(z.rurl)){window.location=z.rurl}}}}}},function(B,A,z){y=false}).always(function(){if(y){r()}})}function t(){var x=$("#iframe");if(x.length>0){x.remove();$("#casinoContent").removeClass("no-padding")}}function i(x){return !x.getAllResponseHeaders()}function g(x){if(typeof(x)!=="undefined"&&x!==null){return true}return false}function h(x){if(typeof(x)!=="undefined"&&x!==null){if(x.length>0){return true}}return false}var d={GameLaunch:"game-launch",KeepSessionAlive:"keep-alive"};var c={GameLaunch:1,KeepCasinoAlive:5};var n={OK:0,NOK:1};function s(){$.mobile.loading("show")}function f(){$.mobile.loading("hide")}var k=(function(){var x=0;return function(y,z,A){clearTimeout(x);if(!A){x=setTimeout(y,z)}}})();function r(){var x=240000;var y=false;var z=w($("#keepGaming").val(),0);if((z===1)&&($("iframe.gaming-iframe").length>0)){if(g(_lcgc)&&g(_lcgc.kat)){x=_lcgc.kat}}else{y=true}k(j,x,y)}function j(){o()}function b(y){var z=w(y.data("amount"),-1);if(z<1){return}var x=$(a);var A=v(x.val(),0);A=A+z;x.val(A).change()}function p(x){var A=v(x.val(),-1);var z=x.val();if(A<0){if(z.length===0){x.data("amount",0)}else{var y=x.data("amount");if(y===0){x.val("");return}x.val(y)}}else{x.data("amount",A);if(z.indexOf(",")>=0){z=z.replace(",",".");x.val(z)}}}function u(){var x=$("#twMainContentView");x.find("input[type='text']").val("");$("#twInfoContentView").addClass("fieldHide");x.removeClass("fieldHide")}function e(z){var x=$(z);var y=x.find(".round-bets");if(y.length===0){return}if(y.hasClass("fieldHide")){y.removeClass("fieldHide")}else{y.addClass("fieldHide")}}return{initKeepAlive:r,setTransferAmount:p,stopCasinoGaming:t,setCasinoTransferAmount:q,toggleViews:u,resetAmount:m,displayBets:e}})();$(function(){$(document).on("change","#gamingAmount",function(a){CasinoUtility.setTransferAmount($(this))});$(document).on("click","input.cb-transfer",function(r){r.stopPropagation();var h="transfer-checked",q="";var x="#transferAcc1",n="#transferAcc2";var f=$(r.target);var c=f.parent();var A=f.data("transfer");var D=f.data("group");var b=$("#account-group-"+1);var a=$("#account-group-"+2);var y=b.find("input.cb-transfer");var o=a.find("input.cb-transfer");var m;if(D===1){m=y}else{if(D===2){m=o}}var t=f.hasClass(h);if(t){if(D===2){if(f.data("transfer")===1){return}}f.removeClass(h);c.removeClass(h);if(D==1){$(x).val("-1")}else{$(n).val("-1")}}else{f.addClass(h);c.addClass(h);if(D==1){$(x).val(A)}else{$(n).val(A)}var z=m.not(f);if(z.length>0){var g;for(var s=0,u=z.length;s<u;s++){g=$(z[s]);if(g.hasClass(h)){g.removeClass(h);g.parent().removeClass(h)}}}}if(D===1){var C=y.filter("input."+h).length;var d;var p;if(C===0){$(x).val("-1");$(n).val("-1")}for(var v=0,w=o.length;v<w;v++){d=$(o[v]);if(C===0){if(d.hasClass(h)||!d.is(":disabled")){d.parent().removeClass(h);d.removeClass(h).button("disable")}}else{p=d.data("transfer");if((A===1&&(p===2||p===4||p===5))||((A===2||A===4||A===5)&&p===1)){if(d.is(":disabled")){d.button("enable");if((A===2||A===4||A===5)&&p===1){d.addClass(h).parent().addClass(h);$(n).val(p)}}}else{d.removeClass(h).parent().removeClass(h);d.button("disable")}}}var B=o.filter("input."+h).length;if(B===0){$(n).val("-1")}}})});var MobileGamingClient=(function(){var g="mobile-gaming/";function f(){var l=j($("#transferAcc1").val(),-1);var k=j($("#transferAcc2").val(),-1);if(l===-1||k===-1){return false}return true}function j(k,m){var l=typeof(k);if(l==="number"&&k>0){return k}var n=m;if(k!==null&&l!=="undefined"){if(k.length>0){if(!isNaN(k)&&isFinite(k)){n=parseInt(k,10)}}}return n}function d(k){if(typeof(k)!=="undefined"&&k!==null){return true}return false}function e(k){if(typeof(k)!=="undefined"&&k!==null){if(k.length>0){return true}}return false}function i(){$.mobile.loading("show")}function c(){$.mobile.loading("hide")}function a(k){return $.ajax({type:"GET",dataType:"json",url:g+k.fragment,data:{},cache:false,beforeSend:function(l){$.mobile.loading("show")}}).then(function(l,o,p){if((p.status===204)||((p.status===200)&&(!d(l)||!d(l.d)))){return($.Deferred().reject())}var m=l.d;if(m.action===2){window.location.replace(m.redirectUri);return}if(d(m.action)&&d(m.mode)){if(m.action===3){diplayInfoMessage("",m.html,m.mode)}}else{var n=$(m.html);n.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",n);return(l)}},function(o,n){try{if(d(o.responseText)){var m=$.parseJSON(o.responseText);if(o.status===302&&d(m.d)&&d(m.d.errorUri)){twRouter.navigate(m.d.errorUri,{trigger:true})}else{if(o.status===500||o.status===404){if(m.d.action===1){var p=$(m.d.html);p.appendTo($.mobile.pageContainer);$.mobile.pageContainer.pagecontainer("change",p);twRouter.navigate(m.d.redirectUri)}else{diplayInfoMessage("",m.d.html,m.d.mode)}}else{if(o.status===302||o.status===303||o.status===401||o.status===403){twRouter.navigate(m.d.redirectUri,{trigger:true})}}}}}catch(l){}return($.Deferred().reject())}).always(function(){$.mobile.loading("hide")})}function h(l){var k=$(l);if(k.is(":checked")){$("#statusSelector").val("2")}else{$("#statusSelector").val("0")}}function b(){var k=document.body;var l=k.requestFullScreen||k.webkitRequestFullScreen||k.mozRequestFullScreen||k.msRequestFullscreen;if(l){l.call(k)}else{if(typeof window.ActiveXObject!=="undefined"){var m=new ActiveXObject("WScript.Shell");if(m!==null){m.SendKeys("{F11}")}}}return false}return{getCasinoLobby:a,isTransferTypeSelected:f,setWinningsFilter:h,goFullScreen:b}})();